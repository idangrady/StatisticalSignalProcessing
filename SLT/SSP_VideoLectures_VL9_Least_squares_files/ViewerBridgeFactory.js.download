(()=>{"use strict";var e,t={91721:(e,t,s)=>{var r=s(76702),a=s(18997),i=s(37230);Panopto.Viewer.createViewerBridge=function(e){const t=new a.T;return(0,r.bootstrapReactComponent)(i.Q)(e,{container:t}),t}},96862:(e,t,s)=>{s.d(t,{x:()=>o});var r=s(87363),a=s(12611),i=s(87597);class o extends i.T{constructor(e){super(e),this.fireEventTabSelected=this.fireEventTabSelected.bind(this),this.state={}}render(){return r.createElement("div",null)}componentDidMount(){super.componentDidMount(),this.handlePropsUpdating({}),this.wireUpKeyboardNavigation()}componentDidUpdate(e,t){this.props!==e&&this.handlePropsUpdating(e),this.state!==t&&this.handleStateUpdating(t)}fireEventTabSelected(e){this.props.fireEventTabSelected(),this.setState({selectedTab:e,lastSelectedTab:this.state.selectedTab})}handlePropsUpdating(e){let t,s=this.state.tabSet,r=!1;if(this.props.eventTabLogic!==e.eventTabLogic&&(s=this.props.eventTabLogic.createTabs(this.props.fireEventTabFocused,this.fireEventTabSelected,this.props.fireSearchStarted),t=t||{},t.tabSet=s,r=!this.state.tabSet,this.onTabSetChanged&&this.onTabSetChanged(s)),s){const a=this.getSelectedTab(s,e,this.state.tabSet,r);a!==this.state.selectedTab?(t=t||{},t.selectedTab=a,t.lastSelectedTab=this.state.selectedTab,a&&a.position(this.props.position),this.onResize&&this.onResize(this.props.size)):this.props.position!==e.position&&this.state.selectedTab&&this.state.selectedTab.position(this.props.position),s.searchTab&&this.props.searchTerm&&(this.props.searchTerm!==e.searchTerm||r)&&(s.searchTab.setQueryText(this.props.searchTerm),s.searchTab.fetch()),this.props.isViewerLive===e.isViewerLive&&this.props.isViewerEnded===e.isViewerEnded||!s.commentsTab||s.commentsTab.toggleBroadcastIsLiveOrEnded(this.props.isViewerLive||this.props.isViewerEnded)}this.props.size!==e.size&&this.onResize&&this.onResize(this.props.size),t&&this.setState(t)}handleStateUpdating(e){this.state.selectedTab!==e.selectedTab&&(this.state.lastSelectedTab&&this.state.lastSelectedTab.selected(!1),this.state.selectedTab&&(this.state.selectedTab.position(this.props.position),this.state.selectedTab.selected(!0)))}getSelectedTab(e,t,s,r){let a;return this.props.isExpanded&&(a=e.searchTab&&this.props.searchTerm&&(this.props.searchTerm!==t.searchTerm||r)?e.searchTab:e!==s?e.tabs.indexOf(this.state.selectedTab)>=0?this.state.selectedTab:this.getDefaultSelectedTab(e):this.state.selectedTab&&(this.state.selectedTab!==e.searchTab||this.props.searchTerm)?this.state.selectedTab:this.getDefaultSelectedTab(e)),a}getDefaultSelectedTab(e){return this.state.lastSelectedTab||a.chain(e.tabs).filter((t=>t!==e.searchTab&&t!==e.detailsTab&&t!==e.editDetailsTab)).first().value()}wireUpKeyboardNavigation(){const e=$("#eventTabControl"),t=$("#eventTabPanes");e.keydown((t=>{if(t.ctrlKey)return;const s=e.find(".event-tab-header:visible");let r;switch(t.keyCode){case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.DownArrow:case Panopto.Core.Key.LeftArrow:case Panopto.Core.Key.RightArrow:(e=>{const t=a.contains([Panopto.Core.Key.DownArrow,Panopto.Core.Key.RightArrow],e),i=s.filter("."+Panopto.Core.Constants.SelectedClass),o=s.index(i)+(t?1:-1);r=s.eq(o%s.length)})(t.keyCode);break;case Panopto.Core.Key.Home:case Panopto.Core.Key.End:r=t.keyCode===Panopto.Core.Key.End?s.last():s.first();break;default:return}const i=a.find(this.state.tabSet.tabs,(e=>e.headerId()===r[0].id));this.fireEventTabSelected(i),r.focus(),t.stopPropagation()})),t.keydown((function(t){t.ctrlKey&&t.keyCode===Panopto.Core.Key.UpArrow&&(e.find(".event-tab-header."+Panopto.Core.Constants.SelectedClass).focus(),t.stopPropagation())}))}}},87597:(e,t,s)=>{s.d(t,{T:()=>a});var r=s(87363);class a extends r.Component{constructor(e,t){super(e,t)}componentDidMount(){this.props.container.register(this)}}},18997:(e,t,s)=>{s.d(t,{T:()=>i});var r=s(96862),a=s(91185);class i{get viewer(){return this._viewer}get eventPane(){return this._eventPane}register(e){e instanceof a.w?this._viewer=e:e instanceof r.x&&(this._eventPane=e)}}},91185:(e,t,s)=>{s.d(t,{w:()=>o});var r=s(87363),a=s(96862),i=s(87597);class o extends i.T{constructor(){super(),this.fireSearchStarted=this.fireSearchStarted.bind(this),this.state={playerState:{position:0},viewerState:{isLive:!1,isEnded:!1},eventPaneIsExpanded:!0,eventTabLogic:void 0,eventPaneSize:{width:0,height:0},searchTerm:void 0}}render(){return r.createElement("div",null,r.createElement(a.x,{container:this.props.container,eventTabLogic:this.state.eventTabLogic,position:this.state.playerState.position,isViewerLive:this.state.viewerState.isLive,isViewerEnded:this.state.viewerState.isEnded,searchTerm:this.state.searchTerm,isExpanded:this.state.eventPaneIsExpanded,size:this.state.eventPaneSize,fireSearchStarted:this.fireSearchStarted,fireEventTabFocused:this.onEventTabFocused,fireEventTabSelected:this.onEventTabSelected}))}componentDidMount(){super.componentDidMount(),this.props.initialSearchTerm&&this.setState({searchTerm:this.props.initialSearchTerm,eventPaneIsExpanded:!0})}fireSearchStarted(e){this.setState({searchTerm:e})}}},37230:(e,t,s)=>{s.d(t,{Q:()=>o});var r=s(87363),a=s(87597),i=s(91185);class o extends a.T{constructor(){super(),this.queryParameters=Panopto.Core.StringHelpers.parseQueryString(window.location.search.slice(1),!0,!1)}render(){return r.createElement(i.w,{container:this.props.container,initialSearchTerm:this.queryParameters.query})}}},76702:e=>{e.exports=PanoptoReactComponents},87363:e=>{e.exports=React},12611:e=>{e.exports=_}},s={};function r(e){var a=s[e];if(void 0!==a)return a.exports;var i=s[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,s,a,i)=>{if(!s){var o=1/0;for(p=0;p<e.length;p++){for(var[s,a,i]=e[p],n=!0,c=0;c<s.length;c++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](s[c])))?s.splice(c--,1):(n=!1,i<o&&(o=i));if(n){e.splice(p--,1);var h=a();void 0!==h&&(t=h)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[s,a,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.j=2152,(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=document.baseURI||self.location.href;var e={2152:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var a,i,[o,n,c]=s,h=0;if(o.some((t=>0!==e[t]))){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(c)var p=c(r)}for(t&&t(s);h<o.length;h++)i=o[h],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(p)},s=this.webpackChunk_panopto_webpack=this.webpackChunk_panopto_webpack||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),r.nc=void 0;var a=r.O(void 0,[9351],(()=>r(91721)));a=r.O(a)})();
//# sourceMappingURL=file://seasyn/jenkinsbuilds/rel_rtc_13.6.0/13.6.0.00015/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/ViewerBridgeFactory.js.map