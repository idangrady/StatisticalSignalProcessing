"use strict";var Panopto=Panopto||{};Panopto.Branding=Panopto.Branding||{};var renderBrandingStyleElement=$("<style />").appendTo("head");Panopto.Branding.createLogo=function(e,o,n){var t,r={svgUrl:null!==(t=o.svg)&&void 0!==t?t:Panopto.branding.svgLogo,pngUrl:o.png,width:o.svgWidth,height:o.svgHeight,mainLogoToolTip:Panopto.GlobalResources.Everything,customerLogoLink:Panopto.branding.siteLogoLink,cobrandLink:"https://www.panopto.com",cobrandString:Panopto.GlobalResources.PanoptoLogo_PoweredBy,listPageLink:PanoptoTS.StringHelpers.format("{0}/Pages/Sessions/List.aspx",Panopto.appRoot),linksEnabled:n},a=_.template($("#customerLogoTemplate").html())(r),c=_.template($("#panoptoLogoTemplate").html())(r);e.html(r.pngUrl&&-1===r.pngUrl.indexOf("_branding")?c:a)},Panopto.Branding.renderBrandingColors=function(e,o){var n,t,r,a=new PanoptoCore.Color(e),c=a.toHex(),s=a.getSafety().toHex(),l=a.getSafety().multiply(.9).toHex(),i=a.getSafety().multiply(.8).toHex(),g=[{selector:".accent-color",styleChanges:["color: {0}","border-color: {0}"]},{selector:".selected.accent-left-border",styleChanges:["border-left-color: {0}"]},{selector:".content-table table .selected .highlight-cell",styleChanges:["background-color: {0}"]},{selector:".embedded-plugin#batchUpload #sessionList .session.selected .session-check.accent-button",styleChanges:["background-color: {0}"]},{selector:".accent-background",styleChanges:["background-color: {0}"]},{selector:".selected.accented-tab",styleChanges:["border-left-color: {0}"]},{selector:".MuiSwitch-root .Mui-checked .MuiIconButton-label",styleChanges:["color: {0}"]},{selector:".MuiSwitch-root .Mui-checked + .MuiSwitch-track",styleChanges:["background-color: {0}"]},{selector:".MuiSwitch-colorSecondary.Mui-checked",styleChanges:["color: {0}"]}],d=[{selector:".selected.accent-left-border a",styleChanges:["border-left-color: {0}"]},{selector:".selected .accent-button",styleChanges:["border-color: {0}"]},{selector:".selected.accented-tab",styleChanges:["background-color: {0}"]},{selector:".safety-accent-border",styleChanges:["border-color: {0}"]},{selector:".safety-background",styleChanges:["background-color: {0}"]},{selector:".safety-text",styleChanges:["color: {0}"]},{selector:".safety-accent-highlighted.highlighted .event-text",styleChanges:["color: {0}"]},{selector:".safety-accent-highlighted.editing .event-text",styleChanges:["color: {0}"]},{selector:".safety-accent-highlighted.highlighted .event-time",styleChanges:["color: {0}"]},{selector:".safety-accent-highlighted.editing .event-time",styleChanges:["color: {0}"]},{selector:".event-tab-pane .match",styleChanges:["color: {0}"]},{selector:".safety-border",styleChanges:["border-color: {0}"]},{selector:".colored-scroll-button",styleChanges:["color: {0}"]},{selector:".selected.branded-border",styleChanges:["border-color: {0}"]}];o?g.push({selector:".safety-accent-border-ifcustom",styleChanges:["border-color: {0}"]}):d.push({selector:".safety-accent-border-ifcustom",styleChanges:["border-color: {0}"]});var p=function(e,o){return{selector:e,styleChanges:[PanoptoTS.StringHelpers.format("background-color: {0}",o),PanoptoTS.StringHelpers.format("border-color: {0}",o)]}};function u(e){_.each(e.styleChanges,(function(o){$.rule(e.selector+"{"+o+" !important}").appendTo(renderBrandingStyleElement)}))}function h(e,o){_.each(e,(function(e){u(e=function(e,o){return e.styleChanges=_.map(e.styleChanges,(function(e){return PanoptoTS.StringHelpers.format(e,o)})),e}(e,o))}))}n=p(".branded-button",s),t=p(".branded-button:hover:not(.disabled)",l),r=p(".branded-button:active:not(.disabled)",i),h(g,c),h(d,s),h([{selector:".embedded-plugin#batchUpload #sessionList .session.selected .session-check.accent-button:hover",styleChanges:["background-color: {0}"]},{selector:".embedded-plugin#batchUpload .create-upload:hover .create-upload-icon.image-accent-background",styleChanges:["background-color: {0}"]}],l),u(n),u(t),u(r);var b=function(e){if(!/^#[0-9a-f]{6}$/.test(e))return[];var o=e.substr(1,2),n=e.substr(3,2),t=e.substr(5,2);return[parseInt(o,16).toString(),parseInt(n,16).toString(),parseInt(t,16).toString()]}(c);[{selector:".MuiSwitch-colorSecondary.Mui-checked:hover",styleChanges:["background-color: {0}"],alpha:.04}].forEach((function(e){e.styleChanges=e.styleChanges.map((function(o){return PanoptoTS.StringHelpers.format(o,function(e){if(b.length&&!(e>1||e<0)){var o=e.toString();return"rgba(".concat(b[0],", ").concat(b[1],", ").concat(b[2],", ").concat(o,")")}}(e.alpha))})),u(e)}))},Panopto.Branding.brandElements=function(e){var o=new PanoptoCore.Color(e),n=o.toHex(),t=o.getSafety().toHex();Panopto.Branding.brandImageBackgrounds(".image-accent-background",".image-accent-background",n),Panopto.Branding.animateLoadingIndicator(t)},Panopto.Branding.animateLoadingIndicator=function(e){Panopto.Core.UI.Components.spinner($("#loadingMessage")),Panopto.Core.UI.Components.spinner($("#primaryBuffering")),Panopto.Core.UI.Components.spinner($("#secondaryBuffering")),Panopto.Core.UI.Components.spinner($(".logging-out-spinner")),Panopto.Core.UI.Components.spinner($(".logging-in-spinner")),Panopto.Core.UI.Components.spinner($("#modalSpinner")),Panopto.Core.UI.Components.spinner($(".event-tab-spinner")),Panopto.Branding.brandImageBackgrounds(".branded-animation",".spinner-background",e),$("#navBar .browse-spinner #path").css("fill",e)},Panopto.Branding.brandImageBackground=function(e,o){-1!==o.indexOf("_branding")&&e.css("background-image","url("+o+")")},Panopto.Branding.brandImageBackgroundRule=function(e,o){var n=-1!==o.indexOf("_branding");return n&&$.rule(e+"{background-image: url("+o+") !important}").appendTo(renderBrandingStyleElement),n},Panopto.Branding.brandImageBackgrounds=function(e,o,n){var t=_.filter(_.map($(e),(function(e){var o=$(e).css("background-image");return o&&(o=o.replace(/^url|[\(\")]/g,"")),o})),(function(e){return"none"!==e})),r=t.length,a=function(e){e||$.rule(o+"{background-color:"+n+" !important}").appendTo(renderBrandingStyleElement)};a(r),_.each(t,(function(e){var o=new Image,n=function(){r--,a(r)};o.onload=n,o.onerror=n,o.src=e}))};
//# sourceMappingURL=file://seasyn/jenkinsbuilds/rel_rtc_13.6.0/13.6.0.00015/_PublishedWebsites/WebUI/Scripts/Panopto/RenderBranding.js.map
